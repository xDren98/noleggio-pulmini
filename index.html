<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Imbriani Noleggio</title>
  
  <!-- Font & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" rel="stylesheet" />
  
  <!-- Stili -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1 id="site-title" style="cursor:pointer;">
      <span class="material-icons" aria-hidden="true">directions_bus</span>
      Imbriani Noleggio
    </h1>
    <p class="slogan">Dividi i costi, moltiplica il divertimento!</p>
  </header>

  <main>
    <!-- HOME PAGE -->
    <section id="homepage" data-section class="card" aria-labelledby="home-title">
      <h2 id="home-title">Hai già prenotato con noi?</h2>
      <p>Inserisci il codice fiscale per visualizzare le tue prenotazioni e prenotarne di nuove senza reinserire i dati.</p>

      <form id="form-login" novalidate>
        <div class="input-with-icon">
          <span class="material-icons" aria-hidden="true">person</span>
          <input 
            type="text" 
            id="cf-login" 
            placeholder="Codice fiscale" 
            required 
            maxlength="16" 
            aria-describedby="cfHelp" 
            style="text-transform: uppercase;" 
          />
        </div>
        <div id="cfHelp" class="help-text">Inserisci 16 caratteri, saranno convertiti in maiuscolo.</div>
        <button type="submit" class="btn btn--primary">Accedi</button>
      </form>

      <hr />

      <h2>Prima volta con noi?</h2>
      <p>Prenota ora il tuo pulmino.</p>
      <button id="btnNewBooking" class="btn btn--secondary">
        <span class="material-icons" aria-hidden="true">add_circle</span>
        Prenota ora il tuo pulmino
      </button>
    </section>

    <!-- AREA PERSONALE -->
    <section id="area-personale" data-section class="card hidden" aria-labelledby="area-title">
      <h2 id="area-title">Area personale</h2>
      <div id="area-personale-content"></div>
    </section>

    <!-- MODIFICA PRENOTAZIONE -->
    <section id="modifica-prenotazione" data-section class="card hidden" aria-labelledby="modifica-title">
      <button class="btn-back" aria-label="Torna all'area personale">← Indietro</button>
      <h2 id="modifica-title">Modifica prenotazione</h2>
      <div id="modifica-form-content"></div>
    </section>

    <!-- WIZARD PRENOTAZIONE -->
    <section id="mainbox" data-section class="card hidden" aria-labelledby="wizard-title">
      <h2 id="wizard-title">Nuova prenotazione</h2>

      <!-- STEP 1: Date e orari -->
      <div id="step1" class="step" data-step aria-labelledby="s1-title">
        <h3 id="s1-title">Seleziona date e orari</h3>

        <label for="giorno_ritiro">
          <span class="material-icons" aria-hidden="true">event</span>
          Data ritiro
        </label>
        <div class="date-inline">
          <select id="giorno_ritiro" aria-label="Giorno ritiro" required></select>
          <select id="mese_ritiro" aria-label="Mese ritiro" required></select>
          <select id="anno_ritiro" aria-label="Anno ritiro" required></select>
        </div>

        <label for="ora_partenza">
          <span class="material-icons" aria-hidden="true">schedule</span>
          Ora ritiro
        </label>
        <select id="ora_partenza" required>
          <option value="08:00">08:00</option>
          <option value="12:00">12:00</option>
          <option value="16:00">16:00</option>
          <option value="20:00">20:00</option>
        </select>

        <label for="giorno_arrivo">
          <span class="material-icons" aria-hidden="true">event_available</span>
          Data arrivo
        </label>
        <div class="date-inline">
          <select id="giorno_arrivo" aria-label="Giorno arrivo" required></select>
          <select id="mese_arrivo" aria-label="Mese arrivo" required></select>
          <select id="anno_arrivo" aria-label="Anno arrivo" required></select>
        </div>

        <label for="ora_arrivo">
          <span class="material-icons" aria-hidden="true">schedule</span>
          Ora arrivo
        </label>
        <select id="ora_arrivo" required>
          <option value="08:00">08:00</option>
          <option value="12:00">12:00</option>
          <option value="16:00">16:00</option>
          <option value="20:00">20:00</option>
        </select>

        <div class="actions" style="margin-top: 10px;">
          <button id="btn-controlla-disponibilita" class="btn btn--primary">Controlla disponibilità</button>
        </div>
      </div>

      <!-- STEP 2: Scelta pulmino (CARD) -->
      <div id="step2" class="step hidden" data-step aria-labelledby="s2-title">
        <button class="btn-back" data-target="step1" aria-label="Torna a selezione date">← Indietro</button>
        <h3 id="s2-title">Scegli il pulmino</h3>
        <div id="lista-pulmini" class="pulmini-grid" role="group" aria-label="Lista veicoli disponibili"></div>
        <div class="actions" style="margin-top: 16px;">
          <button id="btn-step2-continua" class="btn btn--primary" disabled>Continua</button>
        </div>
      </div>

      <!-- STEP 3: Dati autisti -->
      <div id="step3" class="step hidden" data-step aria-labelledby="s3-title">
        <button class="btn-back" data-target="step2" aria-label="Torna a selezione veicolo">← Indietro</button>
        <h3 id="s3-title">Dati autista/i</h3>

        <label for="numero-autisti">
          <span class="material-icons" aria-hidden="true">groups</span>
          Numero autisti
        </label>
        <select id="numero-autisti">
          <option value="1" selected>1</option>
          <option value="2">2</option>
          <option value="3">3</option>
        </select>

        <label for="cellulare">
          <span class="material-icons" aria-hidden="true">call</span>
          Cellulare
        </label>
        <input 
          type="tel" 
          id="cellulare" 
          placeholder="Es. 3201234567" 
          pattern="[0-9]{9,15}"
          aria-describedby="cellHelp"
          required 
        />
        <div id="cellHelp" class="help-text">Inserisci da 9 a 15 cifre senza spazi.</div>

        <div id="autisti-container" style="margin-top: 10px;"></div>

        <div class="actions" style="margin-top: 16px;">
          <button id="btn-step3-continua" class="btn btn--primary">Continua</button>
        </div>
      </div>

      <!-- STEP 4: Riepilogo e invio -->
      <div id="step4" class="step hidden" data-step aria-labelledby="s4-title">
        <button class="btn-back" data-target="step3" aria-label="Torna a dati autisti">← Indietro</button>
        <h3 id="s4-title">Riepilogo</h3>
        <div id="riepilogo-content" role="region" aria-label="Riepilogo prenotazione"></div>
        <div class="actions" style="margin-top: 16px;">
          <button id="btn-invia-prenotazione" class="btn btn--primary">Invia prenotazione</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Script applicativo -->
  <script src="scripts.js"></script>
</body>
</html>
